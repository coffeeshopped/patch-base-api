
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MidiTransform</title>
    <link rel="stylesheet" href="/css/base.css">
  </head>
  <body>
  
  <div class="api-wrapper">
    <div class="api-nav">
      
      <ul><li><a href="/api/BasicEditorTruss/">BasicEditorTruss</a></li><li><a href="/api/ByteTransform/">ByteTransform</a></li><li><a href="/api/EditorValueTransform/">EditorValueTransform</a></li><li><a href="/api/FetchTransform/">FetchTransform</a></li><li><a href="/api/MemSlot.Transform/">MemSlot.Transform</a></li><li><a href="/api/MidiTransform/">MidiTransform</a></li><li><a href="/api/PackIso/">PackIso</a></li><li><a href="/api/PackIso.Blitter/">PackIso.Blitter</a></li><li><a href="/api/ParamOutTransform/">ParamOutTransform</a></li><li><a href="/api/Parm/">Parm</a></li><li><a href="/api/Range/">Range</a></li><li><a href="/api/SinglePatchTruss/">SinglePatchTruss</a></li><li><a href="/api/SinglePatchTruss.Core.FromMidiFn/">SinglePatchTruss.Core.FromMidiFn</a></li><li><a href="/api/SinglePatchTruss.Core.ToMidiFn/">SinglePatchTruss.Core.ToMidiFn</a></li><li><a href="/api/Span/">Span</a></li><li><a href="/api/SynthPath/">SynthPath</a></li><li><a href="/api/SynthPathMap/">SynthPathMap</a></li></ul>
      
    </div>
    
    <div class="api-content">
      <h1>MidiTransform</h1>
      <div class="api-rule"><pre><code>{  
  type: "singlePatch",
  throttle: Int?,
  param: <a href="/api/MidiTransform.Fn.Param/">MidiTransform.Fn.Param</a>,
  patch: <a href="/api/MidiTransform.Fn.Whole/">MidiTransform.Fn.Whole</a>,
  name: <a href="/api/MidiTransform.Fn.Name/">MidiTransform.Fn.Name</a>?,
}</pre></code></div>
<p>TODO: could the &quot;type&quot; be omitted, and instead deduced from the PatchTruss at the corresponding path?</p>
<p>Used with SinglePatchTrusses that can have individual parameter changes sent to the synth (as opposed to some synths that only accept full patch dumps.)</p>
<dl>
  <dt>throttle</dt>
  <dd>Minimum time in milliseconds that Patch Base should wait between sending MIDI data to the synth.</dd>
  <dt>param</dt>
  <dd>The logic for sending individual parameter changes to the synth.</dd>
  <dt>patch</dt>
  <dd>The logic for sending entire patch dumps to the synth. Used when loading a new patch, and also when changes to multiple parameters occur very quickly.</dd>
  <dt>name</dt>
  <dd>Logic for sending a patch name update to the synth.</dd>
</dl>
<div class="api-rule"><pre><code>{
  type: "singleWholePatch",
  throttle: Int?,
  patch: <a href="/api/MidiTransform.Fn.Whole/">MidiTransform.Fn.Whole</a>,
}</pre></code></div>
<dl>
  <dt>throttle</dt>
  <dd>Minimum time in milliseconds that Patch Base should wait between sending MIDI data to the synth.</dd>
  <dt>patch</dt>
  <dd>The logic for sending entire patch dumps to the synth. Used when loading a new patch, and also when changes to multiple parameters occur very quickly.</dd>
</dl>
<div class="api-rule"><pre><code>{
  type: "multiDictPatch",
  throttle: Int,
  param: <a href="/api/MidiTransform.Fn.Param/">MidiTransform.Fn.Param</a>,
  patch: <a href="/api/MidiTransform.Fn.Whole/">MidiTransform.Fn.Whole</a>,
  name: <a href="/api/MidiTransform.Fn.Name/">MidiTransform.Fn.Name</a>?,
}</pre></code></div>
<p>Used with MultiPatchTrusses that can have individual parameter changes sent to the synth (as opposed to some synths that only accept full patch dumps.)</p>
<dl>
  <dt>throttle</dt>
  <dd>Minimum time in milliseconds that Patch Base should wait between sending MIDI data to the synth.</dd>
  <dt>param</dt>
  <dd>The logic for sending individual parameter changes to the synth.</dd>
  <dt>patch</dt>
  <dd>The logic for sending entire patch dumps to the synth. Used when loading a new patch, and also when changes to multiple parameters occur very quickly.</dd>
  <dt>name</dt>
  <dd>Logic for sending a patch name update to the synth.</dd>
</dl>
<div class="api-rule"><pre><code>{
  type: "singleBank",
  throttle: Int?,
  bank: <a href="/api/MidiTransform.Fn.BankPatch/">MidiTransform.Fn.BankPatch</a>,
}</pre></code></div>
<p>], {
try .single(throttle: $0.xq(&quot;throttle&quot;), .bank($0.x(&quot;bank&quot;)))
}),</p>
<div class="api-rule"><pre><code>{
  type: "compactSingleBank",
  waitInterval: Int?,
}</pre></code></div>
<p>// assume a bank truss has been passed, and make a wholeBank out of it.
let truss: SingleBankTruss = try $0.x()
let fn = truss.core.createFileData
let waitInterval: Int = try $0.xq(&quot;waitInterval&quot;) ?? 10
return .single(throttle: nil, .wholeBank(.init({ editor, bodyData in
try fn.call(bodyData, editor).map { ($0, waitInterval) }
})))
}),</p>
<div class="api-rule"><pre><code>{
  type: "compactMultiBank",
  waitInterval: Int?,
}</pre></code></div>
<p>// assume a bank truss has been passed, and make a wholeBank out of it.
let truss: MultiBankTruss = try $0.x()
let fn = truss.core.createFileData
let waitInterval: Int = try $0.xq(&quot;waitInterval&quot;) ?? 10
return .multi(throttle: nil, .wholeBank(.init({ editor, bodyData in
try fn.call(bodyData, editor).map { ($0, waitInterval) }
})))
}),</p>

    </div>
  </div>
  
  </body>
</html>